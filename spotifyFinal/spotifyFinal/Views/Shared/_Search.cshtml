@model SearchVM;

@{
    int count = 0;
}


<section id="search-area" style="padding-top:30px">
    <div class="content">
    @if (Model.ArtistSongs != null)

    {
            <div class="search_area">
                <div class="search-forSong-area">
                    <div class="context">
                        <div class="liked-music-header">
                            <div class="left-side">
                                <p>#</p>
                                <p>Title</p>
                            </div>
                            <div class="right-side">
                                <p>Album</p>
                                <i class="fa-regular fa-clock"></i>
                            </div>
                        </div>
                        <div class="liked-music">
                        @foreach (var song in Model.ArtistSongs)
                        {

                            count++;

                                <div class="music-row" src="../../assets/music/@song.Song.Path">
                                    <div class="left-side">
                                        <div class="count">
                                            <p>@count</p>
                                            <button class="play">
                                                <i id="play-icon" class="fa-solid fa-play"></i>
                                                <i id="pause-icon" class="fa-solid fa-pause" style="display: none;"></i>
                                            </button>
                                        </div>
                                        <div class="music-info">
                                            <img src="~/assets/images/@song.Song.ImageUrl" alt="">
                                            <div class="names">
                                                <div class="music-name">
                                                    <p>@(song.Song.Name.Length > 15 ? song.Song.Name.Substring(0, 13) + "..." : song.Song.Name)</p>
                                                </div>
                                                <a  asp-action="detail" asp-controller="Artist" asp-route-id="@song.ArtistId" class="artist-name">
                                                    <p>@song.Artist.FullName</p>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="right-side">
                                        <div class="albom-name" style="padding-left: 10px;">
                                            <a style="text-decoration:none;color:white" asp-action="Detail" asp-controller="Album" asp-route-id="@song.Song.AlbumId">@song.Song.Album.Name</a>
                                        </div>
                                       @*  <div class="add-date">
                                            <button id="wishlist" class="wish" songId="@song.SongId">
                                                <i class="fa-solid fa-heart"></i>
                                            </button>
                                        </div> *@
                                        <div class="music-time">
                                            <p></p>
                                        </div>

                                    </div>
                                </div>
                        }
                        </div>
                    </div>
                </div>
            </div>
    }

    @if (Model.Artists != null)

    {
            <div class="artist-area">
                <h2></h2>
                <div class="all-card" >
                @foreach (var artist in Model.Artists)
                {
                        <div class="card-container">
                            <a asp-controller="Artist" asp-action="Detail" asp-route-id="@artist.Id">
                                <div class="card">
                                    <img src="~/assets/images/@artist.ImageUrl" alt="">
                                    <h3>@artist.FullName</h3>
                                    <p>Artist</p>
                                    <button class="play">
                                        <i id="play-icon" class="fa-solid fa-play"></i>
                                        <i id="pause-icon" class="fa-solid fa-pause" style="display: none;"></i>
                                    </button>
                                </div>
                            </a>
                    
                        </div>

                }
                </div>

            </div>
    }

        @if (Model.Albums != null)

        {
            <div class="albom-area">
                <h2 style="color:white">Albums</h2>
                <div class="all-albom">
                    @foreach (var album in Model.Albums)
                    {
                        <a asp-action="detail" asp-controller="Album" asp-route-id="@album.Id">
                            <div class="card-container">
                                <div class="card">
                                    <img src="~/assets/images/@album.Image" alt="">
                                    <h3>@album.Name</h3>
                                    <p>@album.Artist.FullName</p>
                                    <button class="play">
                                        <i id="play-icon" class="fa-solid fa-play"></i>
                                        <i id="pause-icon" class="fa-solid fa-pause" style="display: none;"></i>
                                    </button>
                                </div>
                            </div>
                        </a>
                    }
                </div>
            </div>
        }


        @if (Model.Playlists != null && Model.Playlists.Any())
        {
            <div class="playlist-area">
                <h2></h2>
                <div class="all-playlist">
                    @foreach (var playlist in Model.Playlists)
                    {

                      @*   if (playlist.Playlist.AppUserId != Model.CurrentUserId) 

                        {
                            <a asp-action="ViewPlaylists" asp-controller="Playlist" asp-route-id="@playlist.Playlist.AppUser.Id">
                                <div class="card-container">
                                    <div class="card">
                                        <img src="~/assets/images/@playlist.Playlist.ImgUrl" alt="@playlist.Playlist.Name" />
                                        <h3>@playlist.Playlist.Name</h3>
                                        <p>@playlist.Playlist.AppUser.Fullname</p>

                                        <button class="play">
                                            <i id="play-icon" class="fa-solid fa-play"></i>
                                            <i id="pause-icon" class="fa-solid fa-pause" style="display: none;"></i>
                                        </button>
                                    </div>
                                </div>
                            </a>
                        } *@
                        <a asp-action="Detail" asp-controller="Playlist" asp-route-id="@playlist.Id">
                            <div class="card-container">
                                <div class="card">
                                    <img src="~/assets/images/@playlist.ImgUrl" alt="@playlist.Name" />
                                    <h3>@playlist.Name</h3>
                                    <p>@playlist.AppUser.Fullname</p>

                                    <button class="play">
                                        <i id="play-icon" class="fa-solid fa-play"></i>
                                        <i id="pause-icon" class="fa-solid fa-pause" style="display: none;"></i>
                                    </button>
                                </div>
                            </div>
                        </a>
                    }
                </div>
            </div>
    }
    </div>
</section>
 @*    <script src="~/assets/js/search.js"></script>
    <script src="~/assets/js/searchInput.js"></script>
    <script src="~/assets/js/wishlist.js"></script>
    <script src="~/assets/js/playMusic.js"></script>
    <script src="~/assets/js/playButtons.js"></script>
    <script src="~/assets/js/activeWishlist.js"></script>
    <script src="~/assets/js/musicTime.js"></script> *@

