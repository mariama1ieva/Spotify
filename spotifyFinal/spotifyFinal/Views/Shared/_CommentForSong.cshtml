@using Domain.Entities
@model Song

@if (Model.Comments != null && Model.Comments.Count > 0)
{
    foreach (var comment in Model.Comments)
    {
        <div class="comment-item">
            <div class="raiting">
                @{
                    double rating = comment.Rating.Point;
                }
                @{
                    for (int i = 1; i <= 5; i++)
                    {
                        if (i <= rating)
                        {
                            <i class="fa-solid fa-star" style="font-size:10px; color: #FEC006;"></i>
                        }
                        else
                        {
                            <i class="fa-solid fa-star" style="font-size:10px; color: lightgray;"></i>
                        }
                    }
                }
            </div>
            <div class="comment-add-area">
                <div class="comment-owner">
                    <div class="left-side">
                        <p>@comment.AppUser.Fullname</p>
                    </div>
                    <div class="right-side">
                        <i class="fa-regular fa-clock"></i>
                        <span>@comment.CreateDate.ToString("MM/dd/yyyy")</span>
                    </div>
                </div>
                <div class="user-comment">
                    <p>@comment.Message</p>
                </div>
                @if (comment.AppUserId == ViewBag.UserId)
                {
                    <a comment-id="@comment.Id" style="color:#cfa671" class="right-btn-re"><i class="fa fa-reply" aria-hidden="true"></i>Delete</a>
                }
            </div>
        </div>
    }
}
